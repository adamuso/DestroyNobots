mov r1, lidt_ptrs
mov [r1], int0, dword
add r1, 4
mov [r1], int1, dword
mov r1, lidt_ptrs
lidt r1

mov r1, 1
mov r2, 0
div r1, r2

start:
	mov r3, 1
	out 0x0, r3
	out 0x1, r3
	jmp start

int0:
	mov r3, 2
	out 0x0, r3
	jmp int0

int1:
	mov r3, 1
	out 0x0, r3
	jmp int1

lidt_ptrs:
	reserve 256, dword